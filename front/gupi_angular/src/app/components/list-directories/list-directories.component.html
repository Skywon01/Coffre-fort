<button nz-button nzType="primary" nzShape="round" class="add-folder" (click)="showCreateDirectoryForm = !showCreateDirectoryForm">
    Ajouter un dossier
</button>
<br/>
<br/>
<app-form-create-directory *ngIf="showCreateDirectoryForm" (directoryCreated)="onDirectoryCreated()"></app-form-create-directory>
<nz-table [nzData]="tuyauDeDirectory">

    <tbody>
        @for (directory of tuyauDeDirectory; track directory.id) {

            <tr class="editable-row">
<!--                <td >{{ directory.id }}</td>-->
                <td class="table-line">
                    <div class="table-line-icon" (click)="toggleDirectory(directory.id)">
                        <span nz-icon nzType="folder-open" nzTheme="fill"
                              style="color:#00000050; font-size: 50px;">
                        </span>
                        <div class="directory-text-container">
                            <div class="directory-name"> {{ directory.name }}</div>
                            <div class="file-number">3 fichiers</div>
                        </div>
                    </div>

                    <div class="block-point" nz-popover
                         [nzPopoverContent]="contentTemplate"
                         nzPopoverPlacement="topRight" nzPopoverTrigger="click">â‹®
                    </div>
                </td>

<!--                <td hidden>{{ directory.user_id }}</td>-->

            </tr>
            @if (openedDirectoryId === directory.id) {
                <app-upload-file [directoryId]="openedDirectoryId" (fileUploaded)="onFileUploaded()"></app-upload-file>
                <app-list-file [directoryId]="openedDirectoryId"></app-list-file>
            }
        }
    </tbody>
</nz-table>
<ng-template #contentTemplate>
    <div>
        <a>Renommer</a> <br>
        <a style="color: red;">Supprimer</a>
    </div>
</ng-template>
