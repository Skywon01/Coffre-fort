<nz-layout *ngIf="authService; else loginTemplate" class="app-layout">
    <nz-sider class="menu-sidebar"
              nzCollapsible
              nzWidth="256px"
              nzBreakpoint="md"
              [(nzCollapsed)]="isCollapsed"
              [nzTrigger]="null">
        <div class="sidebar-logo">
            <a routerLink="welcome">
                <img src="https://ng.ant.design/assets/img/logo.svg" alt="logo">
                <h1>GUPI</h1>
            </a>
        </div>
        <!-- Nom du profil à changer en dynamique -->
        <h2 class="profil-menu">Sylvie Dupont</h2>
        <ul nz-menu nzMode="inline" [nzInlineCollapsed]="isCollapsed" class="color-menu">
            @if (!isCollapsed) {
                <div routerLink="/welcome/files" class="menu-item" routerLinkActive="active-link"
                     style="background-color: #6087E2">
                    <img src="assets/media/icons/icon_file.svg" alt="Icône fichier" width="48">

                    <a class="menu-icon">Mes fichiers</a>
                    <img src="assets/media/icons/arrow_right.svg" alt="Icône flèche" class="menu-item-arrow">
                </div>
            } @else {
                <a class="menu-icon-collapsed" routerLink="/welcome/files"><img src="assets/media/icons/icon_file.svg"
                                                                                alt="Icône fichier"
                                                                                routerLinkActive="active-link active-link-collapsed"
                                                                                width="36"></a>
            }
            @if (!isCollapsed) {
                <div routerLink="/welcome/notification" class="menu-item" routerLinkActive="active-link"
                     style="background-color: #3CFA46">
                    <img src="assets/media/icons/icon_notif.svg" alt="Icône notifications" width="48">

                    <a class="menu-icon">Notifications</a>
                    <img src="assets/media/icons/arrow_right.svg" alt="Icône flèche" class="menu-item-arrow">
                </div>
            } @else {
                <a class="menu-icon-collapsed" routerLink="/welcome/notification"><img
                    src="assets/media/icons/icon_notif.svg" alt="Icône notifications" width="36"
                    routerLinkActive="active-link active-link-collapsed"></a>
            }
            @if (!isCollapsed) {
                <div routerLink="/welcome/materiel" class="menu-item" routerLinkActive="active-link"
                     style="background-color: #FA3C89">
                    <img src="assets/media/icons/icon_computer.svg" alt="Icône matériel" width="48">

                    <a class="menu-icon">Matériel</a>
                    <img src="assets/media/icons/arrow_right.svg" alt="Icône flèche" class="menu-item-arrow">
                </div>
            } @else {
                <a class="menu-icon-collapsed" routerLink="/welcome/materiel" routerLinkActive="active-link"><img
                    src="assets/media/icons/icon_computer.svg" alt="Icône matériel" width="36"
                    routerLinkActive="active-link active-link-collapsed"></a>
            }
            @if (!isCollapsed) {
                <div routerLink="/welcome/rh" class="menu-item" routerLinkActive="active-link"
                     style="background-color: #FAC23C">
                    <img src="assets/media/icons/icon_rh.svg" alt="Icône rh" width="48">

                    <a class="menu-icon">Gestion RH</a>
                    <img src="assets/media/icons/arrow_right.svg" alt="Icône flèche" class="menu-item-arrow">
                </div>
            } @else {
                <a class="menu-icon-collapsed" routerLink="/welcome/rh" routerLinkActive="active-link"><img
                    src="assets/media/icons/icon_rh.svg" alt="Icône rh" width="36"
                    routerLinkActive="active-link active-link-collapsed"></a>
            }
            @if (!isCollapsed) {
                <div routerLink="/welcome/profil" class="menu-item" routerLinkActive="active-link"
                     style="background-color: #A55F7B">
                    <img src="assets/media/icons/icon_profile.svg" alt="Icône profil" width="48">

                    <a class="menu-icon">Mon profil</a>
                    <img src="assets/media/icons/arrow_right.svg" alt="Icône flèche" class="menu-item-arrow">
                </div>
            } @else {
                <a class="menu-icon-collapsed" routerLink="/welcome/profil" routerLinkActive="active-link"><img
                    src="assets/media/icons/icon_profile.svg" alt="Icône profil" width="36"
                    routerLinkActive="active-link active-link-collapsed"></a>
            }


        </ul>
    </nz-sider>
    <nz-layout>
        <nz-header>
            <div class="app-header">
        <span class="header-trigger" (click)="isCollapsed = !isCollapsed">
            <span class="trigger"
                  nz-icon
                  [nzType]="isCollapsed ? 'right-circle' : 'left-circle'"
                  nzTheme="fill"
            ></span>
        </span>
                <app-user-icon></app-user-icon>

            </div>
        </nz-header>


        <app-breadcrumb></app-breadcrumb>

        <nz-content>

            <div class="inner-content">
                <router-outlet></router-outlet>
                <!-- Messagerie instantanée  -->
                    <app-chat/>

            </div>
        </nz-content>
    </nz-layout>
</nz-layout>
<ng-template #loginTemplate>
    <router-outlet></router-outlet>
</ng-template>
